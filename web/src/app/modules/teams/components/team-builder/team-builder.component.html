<div class="team-builder">
  <div class="pokemons" *ngFor="let pokemon of team; let i = index; trackBy: trackByIndex">
    <div class="pokemon-name">
      <div class="custom-select">
        <div class="select-header" (click)="toggleDropdown(i)">
          <span *ngIf="team[i]; else placeholder">
            <img [src]="url + team[i].icono" width="25" /> {{ team[i].nombre | titlecase }}
          </span>
          <ng-template #placeholder>
            <span>Selecciona un Pokémon</span>
          </ng-template>
          <span class="arrow-container">
          <svg *ngIf="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512" width="14" height="14"
            style="cursor: pointer; margin-right: 8px;" (click)="toggleDropdown(i); $event.stopPropagation()">
            <path
              d="M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z" />
          </svg>

          <svg *ngIf="team[i]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" width="14" height="14"
            style="cursor: pointer;" (click)="clearPokemon(i); $event.stopPropagation()">
            <path
              d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z" />
          </svg>
        </span>
        </div>
        <div class="select-dropdown" *ngIf="dropdowns[i]">
          <div class="select-option" (click)="clearPokemon(i)">—</div>
          <div class="select-option" *ngFor="let p of filteredLists[i]" (click)="onPokemonSelected(i, p.id)">
            <img [src]="url + p.icono" width="25" /> {{ p.nombre | titlecase }}
          </div>
        </div>
      </div>
    </div>
    <div class="pokemon-image" *ngIf="team[i]">
      <img [src]="url + team[i].gif" />
      <div *ngFor="let tipo of team[i].tipos">
        <img [src]="url + tipo.icono"/>
      </div>
    </div>
  </div>
</div>